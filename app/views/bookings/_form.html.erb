<%= form_for(@booking) do |f| %>
    <% if @booking.errors.any? %>
        <div id="error_explanation">
            <h2><%= pluralize(@booking.errors.count, "error") %> prohibited this booking from being saved:</h2>

            <ul>
                <% @booking.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                <% end %>
            </ul>
        </div>
    <% end %>

    <% if @booking.ad.ad_items.count == 1 %>
        <%#= f.label :ad_item_id %>
        <%#= @booking.ad.ad_items.first.id %>
        <%= f.hidden_field(:ad_item_id, :value => @booking.ad.ad_items.first.id )%>
    <% elsif @booking.ad.ad_items.count > 0 %>
        <%= f.hidden_field(:ad_item_id, :value => @booking.ad.ad_items.first.id )%>
<!--
        <div class="field">
            <%= f.label :ad_item_id %><br>
            <%= f.collection_select(:ad_item_id, @booking.ad.ad_items.all, :id, :id) %>
        </div>
 -->
    <% else %>
        <%# This will fail miserably. %>
    <% end %>

<!--
    <div class="field">
        <%= f.label :price %> <br>
        <%= number_to_currency_pretty @booking.ad.price %> per dag
    </div>
 -->

    <div data-controller="kalendaeBookingSelector">
        <div class="row">
            <div class="seven columns">
                <div class="booking-period-selector"><div data-kalendae-container class="u-center"></div></div>
                <%= f.hidden_field :starts_at_time, value: '12.12' %>
                <%= f.hidden_field :ends_at_time, value: '12.12' %>
           </div>
            <div class="five columns">
                <ol class="booking-request-summary">
                    <li>
                        Fra:
                         <%= f.text_field :ends_at_date, data: { format: "yyyy.MM.dd" }, class: 'u-pull-right booking-request-summary__input' %>
                    </li>
                    <li>
                        Til:
                        <%= f.text_field :starts_at_date, data: { format: "yyyy.MM.dd" }, class: 'u-pull-right booking-request-summary__input' %>
                    </li>
                    <li>
                        Antall dager:
                        <span class="u-pull-right" data-day-count>aasdf</span>
                    </li>
                    <li>
                        Pris per dag:
                        <span class="u-pull-right"><%= @booking.ad.decorate.pretty_price %></span>
                    </li>
                    <li>
                        <strong>Totalt Ã¥ betale:</strong>
                        <span class="u-pull-right" data-total-price>Fetch from server</span>
                    </li>
                </ol>
            </div>
        </div>

        <div class="actions">
            <%= f.submit class: "button button-primary" %>
        </div>
    </div>
<% end %>